<div class="container-fluid w-100">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Profile</h1>
    </div>
    <%= render "shared/response" %>
    <% @var = @user %>
    <%= render "shared/validation", var: @var %>

    <div class="row">
        <% if current_user.profile_photo.present? %>
        <%= image_tag current_user.profile_photo , class:"rounded mb-2", style:"width: 200px; height: auto; object-fit: cover;"%>
        <% else %>
        <div class="img-profile rounded mx-2 mb-2 bg-primary d-inline-flex align-items-center justify-content-center text-white" style="width: 150px; height: 150px; font-size: 14px; font-weight: bold;">
            <%= current_user.full_name.split.map(&:first).join.upcase %>
        </div>
        <% end %>
        <%= form_with url: update_profile_photo_path, method: :post, multipart: true do |f| %>
        <div class="input-group mb-3">
            <%= f.label :profile_photo, "Upload", class: "input-group-text" %>
            <%= f.file_field :profile_photo, class: "form-control", id: "inputGroupFile01" %>
            <%= f.submit "Submit", class: "btn btn-success" %>
        </div>
        <% end %>
    </div>
    <%= render "profile_form" %>
</div>
</div>
</div>
</div>
<script>
    function showPassword() {
        var x = document.getElementById("passwordInput");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }

    function showConfirmPassword() {
        var x = document.getElementById("confirmPasswordInput");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }
</script>